targets=call0,includes,tests.log
cppflags_force=-I../include
cflags_force=`pkg-config --cflags libSystem`
cflags=-W -Wall -g -O2 -pedantic -fPIE -D_FORTIFY_SOURCE=2 -fstack-protector-all
ldflags_force=`pkg-config --libs libSystem` -L$(OBJDIR)../src -Wl,-rpath,$(OBJDIR)../src -lMarshall
ldflags=-pie -Wl,-z,relro -Wl,-z,now
dist=Makefile,tests.sh

[call0]
type=binary
sources=call0.c

[includes]
type=binary
sources=includes.c

[tests.log]
type=script
script=./tests.sh
depends=tests.sh,$(OBJDIR)../src/libMarshall.a,$(OBJDIR)call0,$(OBJDIR)includes
